import { Resolver, Query, Mutation, Arg } from 'type-graphql';
import { Fact, FactInput } from '../../models/facts';

const facts: string[] = JSON.parse('["Charles Darwin’s personal pet tortoise didn’t die until recently.","The average person will spend six months of their life waiting for red lights to turn green","A bolt of lightning contains enough energy to toast 100,000 slices of bread","Cherophobia is the word for the irrational fear of being happy","You can hear a blue whale’s heartbeat from two miles away","Nearly 30,000 rubber ducks were lost a sea in 1992 and are still being discovered today","There’s a Manhattan-specific ant","The inventor of the frisbee was turned into a frisbee after he died","There’s a bridge exclusively for squirrels.","Subway footlongs aren’t a foot long.","Marie Curie’s notebooks are still radioactive","One in three divorce filings include the word “Facebook.”","Blood banks in Sweden notify donors when blood is used.","Instead of saying “cheese” before taking a picture, Victorians said “prunes”","Roosters have built-in earplugs.","The Netherlands is so safe, it imports criminals to fill jails.","One journal published a fake paper about Star Trek","The world’s largest pyramid isn’t in Egypt.","Coke saved one town from the Depression.","We may have already had alien contact.","Yes, you can smell rain.","London cabbies have to memorize literally everything.","There was a secret Baseball Hall of Fame inductee.","Dolphins have actual names.","Superman helped take down the KKK.","A wild dog is the most successful predator.","Medicine bottle foil exists because of poison.","Tons and tons and tons of countries celebrate their independence from the U.K.","LBJ owned a water-surfing car.","Sears used to sell houses.","There’s an encrypted monument outside the CIA.","Manhattan tap water isn’t kosher.","Timothy Leary busted out of prison.","Cold water is just as cleansing as hot water.","Incan people used knots to keep records.","A U.S. Park Ranger once got hit by lightning seven times.","Bottled water expiration dates are for the bottle, not the water.","Queen Elizabeth wouldn’t sit on the Iron Throne.","A hiker found and returned an ancient wallet.","South Koreans are 4cm taller than North Koreans.","Animal shelters are slammed on July 5th.","The most requested funeral song in England is by Monty Python.","The world’s most successful pirate was a woman.","There may be treasure in Virginia.","A sea lion once saved a man.","Rich Russians hire fake ambulances.","Milk wagons gave us roadway lines.","Pandas fake pregnancy for better care.","Businesses once didn’t see the value of diaper stations.","Beloved children’s book author Roald Dahl was a spy.","NASCAR drivers can lose up to 10 pounds in sweat due to high temperatures during races","Victorians once used leeches to predict the weather","Indians spend more than 10 hours a week reading, more than any other country in the world","The Aurora Borealis has a sister phenomenon in the southern hemisphere called the Aurora Australis","Your funny bone is actually a nerve","Pineapples were named after pine cones","A California woman tried to sue the makers of Cap’N’Crunch after she learned Crunch Berries were not real berries","Cap’N’Crunch’s full name is Horatio Magellan Crunch","Apple briefly had its own clothing and lifestyle line in 1986","The IKEA catalog is the most widely printed book in history","3 Musketeers bars had three flavors until wartime rations made accessing vanilla and strawberry flavoring too difficult","Crocodiles are one of the oldest living species, having survived for more than 200 million years","Bacon’s saltiness isn’t natural—it comes from curing and brining","Research shows that all blue-eyed people may be related","There was a fifth Beatle named Stuart Sutcliffe","The cracking sound your joints make is the sound of gases being released","Your bones can multiply in density—times eight.","The largest snowflake on record was 15 inches wide","Scotland has more than 400 words for “snow”","A pig was once executed for murdering a child in France","Someone tried to sell New Zealand on eBay but was stopped once the bid reached $3,000","A Canadian woman who lost her wedding ring while gardening found it 13 years later growing on a carrot","The city of Boring has a sister city called Dull.","McDonald’s once tried to sell bubblegum-flavored broccoli to encourage kids to eat healthier","In the 1990s, North Korean teachers were required to play the accordion","This punctuation mark ?! is called an interrobang","Doritos are flammable and can be used as kindling","It’s illegal to own only one guinea pig in Switzerland","In 2016, a Florida man was charged with assault after throwing a live alligator through a drive-thru window","American Airlines saved a boatload by removing a single olive from meals.","Great Britain once had a Cones Hotline for people to report rogue traffic cones","Starbucks flopped Down Under.","The first written use of “OMG” was in a 1917 letter to Winston Churchill","Flamin’ Hot Cheetos were invented by a janitor.","The largest living organism is an aspen grove in Utah called Pando","Melting glaciers make a fizzy sound called “bergy seltzer”","Flipping a shark upside down renders it immobile for up to 15 minutes","Male students at Brigham Young University in Utah need special permission to grow a beard","When Koko the gorilla met Mr. Rogers, she took off his shoes as she had seen him do on his TV show","“If you die alone in the Netherlands, someone will write you a poem and recite it at your funeral","In the 16th century, poets exchanged rap-battle like stylized insults in an act called “flyting”","Astronaut Alan Shepard Hit Two Golf Balls on the Moon’s Surface","The chief translator of the European Parliament speaks 32 languages fluently","Beauty and the Beast was written to help girls accept arranged marriages.","The first roller coaster was invented at Coney Island as a way to distract people from sinful activities","The German word “kummerspeck” means weight gained from emotional eating","Continental plates drift at about the same rate as fingernails grow","Hitler’s nephew wrote an essay defaming the dictator, then moved to the U.S. and served in the Navy to fight his uncle","David Bowie helped topple the Berlin Wall.","Brunch was originally invented to cure hangovers"]');

@Resolver()
class FactResolver {
  @Query(returns => Fact)
  async fact(): Promise<Fact> {
    return { id: Math.floor(Math.random() * 99), text: facts[Math.floor(Math.random() * 99)] };
  }

  @Mutation(returns => Fact)
  addFact(@Arg('fact') factInput: FactInput): Fact {
    return {
      id: 222222222,
      ...factInput,
    }
  }
}

export {
  FactResolver
}